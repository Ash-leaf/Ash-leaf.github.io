[{"title":"ES6","url":"https://ash-leaf.github.io/2016/10/10/ES6/","content":""},{"title":"Hello World","url":"https://ash-leaf.github.io/2016/10/09/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n"},{"title":"事件专题","url":"https://ash-leaf.github.io/2016/10/07/Event/","content":"<h2 id=\"JavaScript-运行的时候是单线程还是多线程？\"><a href=\"#JavaScript-运行的时候是单线程还是多线程？\" class=\"headerlink\" title=\"JavaScript 运行的时候是单线程还是多线程？\"></a>JavaScript 运行的时候是单线程还是多线程？</h2><p>浏览器是多线程（渲染页面、网络通信、Javascript运行）（多线程是同时干多件事）；而 js  是单线程+ 事件队列（单线程是指一次性干一件事）</p>\n<p>事件队列当中的任务（回调函数） 的执行必须满足如下条件：</p>\n<ol>\n<li>主线程空闲</li>\n<li>满足任务的触发条件 <ul>\n<li>事件函数（点击事件、右键事件、键盘事件、鼠标事件）</li>\n<li>定时函数（延时已经到达）</li>\n<li>ajax的回调函数（服务器返回数据） onreadystagechange</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'hello'</span>);</div><div class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i =<span class=\"number\">0</span>;i&lt;<span class=\"number\">3</span>;i++)&#123;</div><div class=\"line\">    setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(i);</div><div class=\"line\">    &#125;,<span class=\"number\">0</span>);<span class=\"comment\">//定时函数中的时间如果是 0 时，表示按照浏览器的默认最小延时处理。</span></div><div class=\"line\">&#125;        <span class=\"comment\">//定时函数中的延时时不准确的。</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'123'</span>);<span class=\"comment\">//结果 hello  123  3 3 3</span></div><div class=\"line\"><span class=\"comment\">//解释：js是单线程的，当遇到定时函数时，会把他放到事件队列中，当主线程运行完后在运行事件队列中的程序，</span></div><div class=\"line\"><span class=\"comment\">//所以先打印出hello 123 然后运行定时函数，当运行定时函数时又会出现一个问题setTimeout中的i是对外层i的引用，</span></div><div class=\"line\"><span class=\"comment\">//当setTimeout代码被解释的时候for循环已经结束，所以打印出三个3.</span></div></pre></td></tr></table></figure>\n<h2 id=\"事件机制\"><a href=\"#事件机制\" class=\"headerlink\" title=\"事件机制\"></a>事件机制</h2><h3 id=\"1-冒泡与捕获\"><a href=\"#1-冒泡与捕获\" class=\"headerlink\" title=\"1.冒泡与捕获\"></a>1.冒泡与捕获</h3><p>事件注册的方式：1、行内事件  2、对象.click  3、addEventListener和attachEvent</p>\n<ul>\n<li>行内事件</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"console.log(3);\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div3\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 300px;height: 300px;background: orange;position: relative;\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"console.log(2);\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div2\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 200px;height: 200px;background: green;position: absolute;left: 50%;margin-left: -100px;top: 50%;margin-top: -100px;\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"console.log(1);\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div1\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 100px;height: 100px;background: blue;position: absolute;left: 50%;margin-left: -50px;top: 50%;margin-top: -50px;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>点击蓝色盒子也就是div1  此时会打印出 1 2 3， 因为产生了冒泡事件.</p>\n<ul>\n<li>对象.click</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div3\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 300px;height: 300px;background: orange;position: relative;\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div2\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 200px;height: 200px;background: green;position: absolute;left: 50%;margin-left: -100px;top: 50%;margin-top: -100px;\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span>  <span class=\"attr\">id</span>=<span class=\"string\">\"div1\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 100px;height: 100px;background: blue;position: absolute;left: 50%;margin-left: -50px;top: 50%;margin-top: -50px;\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script type=<span class=\"string\">\"text/javascript\"</span>&gt;</div><div class=\"line\">  <span class=\"built_in\">window</span>.onload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> div1 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div1'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> div2 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div2'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> div3 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div3'</span>);</div><div class=\"line\">    div1.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">11</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">    div2.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">22</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">    div3.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">33</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure>\n<p>点击蓝色盒子也就是div1  此时会打印出 11 22 33， 因为产生了冒泡事件，</p>\n<ul>\n<li>addEventListener和attachEvent</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div3\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 300px;height: 300px;background: orange;position: relative;\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div2\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 200px;height: 200px;background: green;position: absolute;left: 50%;margin-left: -100px;top: 50%;margin-top: -100px;\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span>  <span class=\"attr\">id</span>=<span class=\"string\">\"div1\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 100px;height: 100px;background: blue;position: absolute;left: 50%;margin-left: -50px;top: 50%;margin-top: -50px;\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">    &lt;script&gt;</div><div class=\"line\"><span class=\"built_in\">window</span>.onload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> div1 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div1'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> div2 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div2'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> div3 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div3'</span>);</div><div class=\"line\">    div1.addEventListener(<span class=\"string\">'click'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">111</span>);</div><div class=\"line\">    &#125;,<span class=\"literal\">false</span>);</div><div class=\"line\">    div2.addEventListener(<span class=\"string\">'click'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">222</span>);</div><div class=\"line\">    &#125;,<span class=\"literal\">false</span>);</div><div class=\"line\">    div3.addEventListener(<span class=\"string\">'click'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">333</span>);</div><div class=\"line\">    &#125;,<span class=\"literal\">false</span>)</div><div class=\"line\">&#125;</div><div class=\"line\">    &lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure>\n<p><code>当把addEventListener方法中的false改为true时，则为捕获，此时输出结果应为333 222 111，从父盒子到子盒子，正好和冒泡相反。</code></p>\n<h5 id=\"兼容处理\"><a href=\"#兼容处理\" class=\"headerlink\" title=\"兼容处理\"></a>兼容处理</h5><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//注册事件兼容</span></div><div class=\"line\"><span class=\"keyword\">if</span>(div1.addEventListener)&#123;</div><div class=\"line\">    div1.addEventListener(<span class=\"string\">'click'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;,<span class=\"literal\">false</span>);</div><div class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">    div1.attachEvent(<span class=\"string\">'on'</span>+click,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">//移除事件兼容</span></div><div class=\"line\"><span class=\"keyword\">if</span>(obj.removeEventListener)&#123;</div><div class=\"line\">        obj.removeEventListener(type,handler,<span class=\"literal\">false</span>)</div><div class=\"line\">    &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">        obj.detachEvent(<span class=\"string\">'on'</span>+type, handler);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"2-阻止冒泡\"><a href=\"#2-阻止冒泡\" class=\"headerlink\" title=\"2.阻止冒泡\"></a>2.阻止冒泡</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script&gt;</div><div class=\"line\"><span class=\"built_in\">window</span>.onload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bindEvent</span>(<span class=\"params\">obj, type, handler</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (obj.addEventListener) &#123;</div><div class=\"line\">            obj.addEventListener(type, handler, <span class=\"literal\">false</span>)</div><div class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">            obj.attachEvent(<span class=\"string\">'on'</span> + type, handler);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"><span class=\"keyword\">var</span> div1 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div1'</span>);</div><div class=\"line\">bindEvent(div1,<span class=\"string\">'click'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">11</span>);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> div2 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div2'</span>);</div><div class=\"line\">bindEvent(div2,<span class=\"string\">'click'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">even</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">22</span>);</div><div class=\"line\">    <span class=\"keyword\">if</span>(even.stopPropagation)&#123;</div><div class=\"line\">        event.stopPropagation();</div><div class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">        even.cancelBubble = <span class=\"literal\">true</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> div3 = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'div3'</span>);</div><div class=\"line\">bindEvent(div3,<span class=\"string\">'click'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">33</span>);</div><div class=\"line\">&#125;);</div><div class=\"line\">&#125;</div><div class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div3\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 300px;height: 300px;background: orange;position: relative;\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div2\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 200px;height: 200px;background: green;position: absolute;left: 50%;margin-left: -100px;top: 50%;margin-top: -100px;\"</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"div1\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 100px;height: 100px;background: blue;position: absolute;left: 50%;margin-left: -50px;top: 50%;margin-top: -50px;\"</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>还是三个div嵌套，现在给每个div都注册了点击事件，点击最里面的盒子div1 会冒泡到最外面打印出 11  22  33 。我想只冒泡到中间的盒子，也就是只打印 11  22 ， 不打印33，于是给div2 注册阻止冒泡事件，此时点击div2会打印出22，点击div1会打印出11 22 ，这个也有兼容方法<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">event = event || <span class=\"built_in\">window</span>.event;</div><div class=\"line\"><span class=\"keyword\">if</span> (event.stopPropagation)&#123;</div><div class=\"line\">     <span class=\"comment\">//能力检测</span></div><div class=\"line\">     event.stopPropagation();</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">else</span> &#123;</div><div class=\"line\">     event.cancelBubble = <span class=\"literal\">true</span>;<span class=\"comment\">//兼容IE6、7、8</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"3-阻止默认行为\"><a href=\"#3-阻止默认行为\" class=\"headerlink\" title=\"3.阻止默认行为\"></a>3.阻止默认行为</h3><p>新型浏览器： event.perventDefault();<br>旧版浏览器： event.returnValue = false;<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">兼容处理方法：</div><div class=\"line\">event = event || <span class=\"built_in\">window</span>.event;</div><div class=\"line\"><span class=\"keyword\">if</span> (event.preventDefault)&#123;</div><div class=\"line\">     <span class=\"comment\">//能力检测</span></div><div class=\"line\">     event.preventDefault();</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">else</span> &#123;</div><div class=\"line\">     event.returnValue = <span class=\"literal\">false</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">//适用于所有行为的阻止</span></div></pre></td></tr></table></figure></p>\n<p>例子<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"http://www.baidu.com\"</span>&gt;</span>跳转<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script type=<span class=\"string\">\"text/javascript\"</span>&gt;</div><div class=\"line\">    <span class=\"comment\">/*</span></div><div class=\"line\">        阻止默认行为</div><div class=\"line\">        */</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bindEvent</span>(<span class=\"params\">obj, type, handler</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (obj.addEventListener) &#123;</div><div class=\"line\">            obj.addEventListener(type, handler, <span class=\"literal\">false</span>);</div><div class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">            obj.attachEvent(<span class=\"string\">'on'</span> + type, handler);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"built_in\">window</span>.onload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> a = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">'a'</span>)[<span class=\"number\">0</span>];</div><div class=\"line\">        bindEvent(a,<span class=\"string\">'click'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">            e = e || <span class=\"built_in\">window</span>.event;</div><div class=\"line\">            <span class=\"comment\">// 阻止默认行为</span></div><div class=\"line\">            <span class=\"keyword\">if</span>(e.preventDefault)&#123;<span class=\"comment\">//标准浏览器</span></div><div class=\"line\">                e.preventDefault();</div><div class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;<span class=\"comment\">//IE678</span></div><div class=\"line\">                e.returnValue = <span class=\"literal\">false</span>;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure>\n<p>如果不阻止默认事件 那么点击 a 标签后会跳转到百度页面，现在阻止默认事件之后再点击就不会跳转。</p>\n<h3 id=\"4-事件委托\"><a href=\"#4-事件委托\" class=\"headerlink\" title=\"4.事件委托\"></a>4.事件委托</h3><p>现在想给每个li都注册事件 现在有一百个 li 所以要采用事件委托的方法给父元素注册事件，这样方便节省资源<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">window</span>.onload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">// var lis = document.getElementsByTagName('li');</span></div><div class=\"line\">    <span class=\"comment\">// for(var i = 0;i&lt;lis.length;i++)&#123;</span></div><div class=\"line\">    <span class=\"comment\">//     lis[i].onclick = function()&#123;</span></div><div class=\"line\">    <span class=\"comment\">//         console.log(1)</span></div><div class=\"line\">    <span class=\"comment\">//     &#125;</span></div><div class=\"line\">    <span class=\"comment\">// &#125;</span></div><div class=\"line\">    <span class=\"keyword\">var</span> ul = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">'ul'</span>)[<span class=\"number\">0</span>];</div><div class=\"line\">    ul.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">        <span class=\"comment\">// e.target兼容 标准  e.srcElement 兼容ie678</span></div><div class=\"line\">        <span class=\"keyword\">var</span> tar = e.target || e.srcElement;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(tar.innerHTML);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"5-自定义事件\"><a href=\"#5-自定义事件\" class=\"headerlink\" title=\"5.自定义事件\"></a>5.自定义事件</h3><p>核心<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">jquery 中的绑定事件</div><div class=\"line\">$(<span class=\"string\">'div'</span>).on(<span class=\"string\">'click'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    alert(<span class=\"number\">1</span>)</div><div class=\"line\">&#125;)  <span class=\"comment\">//绑定事件</span></div><div class=\"line\">$(<span class=\"string\">'div'</span>).trigger(<span class=\"string\">'click'</span>);  <span class=\"comment\">//触发事件 不用点击就能触发</span></div></pre></td></tr></table></figure></p>\n<p>模拟jquery<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">      <span class=\"comment\">//绑定事件</span></div><div class=\"line\">      $(<span class=\"string\">'div'</span>).on(<span class=\"string\">'abc'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">           alert(<span class=\"number\">1</span>);</div><div class=\"line\">      &#125;)</div><div class=\"line\">      $(<span class=\"string\">'div'</span>).on(<span class=\"string\">'hi'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">           alert(hi);</div><div class=\"line\">      &#125;)</div><div class=\"line\">      $(<span class=\"string\">'div'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">           <span class=\"comment\">//触发事件</span></div><div class=\"line\">           $(<span class=\"string\">'div'</span>).trigger(<span class=\"string\">'abc'</span>);</div><div class=\"line\">      &#125;);</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure></p>\n<p>可以安排触发条件。<br>所有的添加的方法会直接放到div中，这样会导致div中有许多我们自己定义的<br>所有要采用另一种方式，把他们放到一起。</p>\n<p>优化：<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 自定义事件内部的存储结构</span></div><div class=\"line\"><span class=\"comment\">// obj = &#123;&#125;</span></div><div class=\"line\"><span class=\"comment\">// obj.show = [];</span></div><div class=\"line\"><span class=\"comment\">// obj.abc = [];</span></div><div class=\"line\"><span class=\"comment\">//添加事件</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addEvent</span>(<span class=\"params\">element, attr, fn</span>) </span>&#123;</div><div class=\"line\">    element.obj = element.obj || &#123;&#125;;<span class=\"comment\">//初始化对象，这里存储属性</span></div><div class=\"line\">    element.obj[attr] = element.obj[attr] || [];<span class=\"comment\">//初始化数组、这里存储方法</span></div><div class=\"line\">    element.obj[attr].push(fn);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">//触发事件</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fireEvent</span>(<span class=\"params\">element, attr</span>) </span>&#123;</div><div class=\"line\">    <span class=\"comment\">//得到要执行的所有方法</span></div><div class=\"line\">    <span class=\"keyword\">var</span> arr = element.obj[attr];</div><div class=\"line\">    <span class=\"comment\">//得到之后遍历执行</span></div><div class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.length; i++) &#123;</div><div class=\"line\">        arr[i]();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"title":"about","url":"https://ash-leaf.github.io/about/index.html","content":"<p>about:</p>\n<ul>\n<li>type: me<br>icon: icon-user<br>text_value:<ul>\n<li>“1993，February.”</li>\n<li>“喜欢设计，擅长编程，喜欢钻研新技术.”</li>\n<li>“前端开发工程师，常用 HTML / CSS / JavaScript.”</li>\n</ul>\n</li>\n<li>type: Github<br>icon: icon-github<br>text_key: Github<br>text_value: “@Juliet”<br>text_value_url: <a href=\"https://github.com/Juliet\" target=\"_blank\" rel=\"external\">https://github.com/Juliet</a></li>\n<li>type: weibo<br>icon: icon-weibo<br>text_key: 微博<br>text_value: “@Juliet”<br>text_value_url: <a href=\"http://weibo.com/u/5206916710\" target=\"_blank\" rel=\"external\">http://weibo.com/u/5206916710</a></li>\n<li>type: mail<br>icon: icon-mail<br>text_key: Gmail<br>text_value: “Juliet_lz@163.com”</li>\n<li>type: location<br>icon: icon-location<br>text_value: 北京</li>\n</ul>\n"},{"title":"archive","url":"https://ash-leaf.github.io/archive/index.html","content":""},{"title":"link","url":"https://ash-leaf.github.io/link/index.html","content":"<p>link:</p>\n<ul>\n<li>name: 织网<br> info: 身体和灵魂，总有一个在路上<br> url: <a href=\"http://zheng-ji.info/\" target=\"_blank\" rel=\"external\">http://zheng-ji.info/</a><br> avatar: <a href=\"https://avatars3.githubusercontent.com/u/1414745?v=3&amp;s=460\" target=\"_blank\" rel=\"external\">https://avatars3.githubusercontent.com/u/1414745?v=3&amp;s=460</a><ul>\n<li>name: Dongyado<br>info: 生命不止，折腾不息<br>url: <a href=\"http://dongyado.com/\" target=\"_blank\" rel=\"external\">http://dongyado.com/</a><br>avatar: <a href=\"https://avatars0.githubusercontent.com/u/6274940?v=3&amp;s=460\" target=\"_blank\" rel=\"external\">https://avatars0.githubusercontent.com/u/6274940?v=3&amp;s=460</a></li>\n<li>name: OrangeCoder<br>info: android ffmpeg nodejs gradle<br>url: <a href=\"http://orangecoder.com/\" target=\"_blank\" rel=\"external\">http://orangecoder.com/</a><br>avatar: <a href=\"https://avatars0.githubusercontent.com/u/2263785?v=3&amp;s=460\" target=\"_blank\" rel=\"external\">https://avatars0.githubusercontent.com/u/2263785?v=3&amp;s=460</a></li>\n<li>name: EverET<br>info: 好记性不如烂笔头<br>url: <a href=\"http://everet.org/about-me/\" target=\"_blank\" rel=\"external\">http://everet.org/about-me/</a><br>avatar: <a href=\"https://avatars1.githubusercontent.com/u/1559563?v=3&amp;s=460\" target=\"_blank\" rel=\"external\">https://avatars1.githubusercontent.com/u/1559563?v=3&amp;s=460</a></li>\n</ul>\n</li>\n</ul>\n"},{"title":"search","url":"https://ash-leaf.github.io/search/index.html","content":""},{"title":"tag","url":"https://ash-leaf.github.io/tag/index.html","content":""}]